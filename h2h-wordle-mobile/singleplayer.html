<!doctype html>
<html lang="ka">
<head>
  <meta charset="utf-8" />
  <link rel="icon" type="image/png" href="icon.png" />
  <link rel="manifest" href="manifest.json" />
  <link rel="apple-touch-icon" href="icon.png" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" data-i18n="pvpWordle" content="PVP рЃАрЃўрЃбрЃДрЃЋрЃБрЃарЃў" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover" />
  <title data-i18n="pvpWordle">PVP рЃАрЃўрЃбрЃДрЃЋрЃБрЃарЃў</title>
  <meta name="theme-color" content="#0f1220" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- AD PLACEHOLDER TOP (hidden by default) -->
  <div class="ad-placeholder ad-top" id="adTop" style="display: none;">
    <span data-i18n="advertisement">рЃарЃћрЃЎрЃџрЃљрЃЏрЃљ</span>
  </div>

  <div class="app">
    <header class="top">
      <div class="brand">
        <span class="dot"></span>
        <span data-i18n="pvpWordle">PVP рЃАрЃўрЃбрЃДрЃЋрЃБрЃарЃў</span>
      </div>

      <div class="topRight">
        <a href="index.html" class="roompill" style="text-decoration: none; cursor: pointer;" title="Play Solo">
          <span data-i18n="soloMode">­Ъј» рЃАрЃЮрЃџрЃЮ рЃарЃћрЃЪрЃўрЃЏрЃў</span>
        </a>

        <!-- РюЁ NEW: LANGUAGE INDICATOR -->
        <div class="roompill" id="langPill">KA</div>

        <div class="roompill" id="roomPill" data-i18n="noRoom">рЃЮрЃЌрЃљрЃ«рЃў рЃљрЃа рЃљрЃарЃўрЃА</div>
        <button class="iconBtn" id="menuBtn" aria-label="Menu" title="Menu">Рў░</button>
      </div>
    </header>

    <!-- MENU DRAWER -->
    <div class="modal menuModal" id="menuModal" hidden>
      <div class="drawer" role="dialog" aria-modal="true">
        <div class="drawerHead">
          <div class="drawerTitle" data-i18n="lobbySettings">рЃџрЃЮрЃЉрЃў / рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃў</div>
          <button class="btn ghost mini" id="menuCloseBtn" data-i18n="close">рЃЊрЃљрЃ«рЃБрЃарЃЋрЃљ</button>
        </div>

        <section class="drawerBody">
          <div class="field">
            <label for="name" data-i18n="yourName">рЃерЃћрЃюрЃў рЃАрЃљрЃ«рЃћрЃџрЃў</label>
            <input id="name" maxlength="24" placeholder="рЃљрЃЎрЃљрЃЎрЃў" autocomplete="nickname" data-i18n-placeholder="namePlaceholder" />
          </div>

          <div class="actions">
            <button class="btn" id="createBtn" data-i18n="createPrivateRoom">рЃЎрЃћрЃарЃФрЃЮ рЃЮрЃЌрЃљрЃ«рЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃљ</button>

            <div class="codeRow">
              <label for="code" style="display: none;" data-i18n="roomCode">рЃЮрЃЌрЃљрЃ«рЃўрЃА рЃЎрЃЮрЃЊрЃў</label>
              <input id="code" maxlength="6" placeholder="рЃЎрЃЮрЃЊрЃў" autocapitalize="characters" data-i18n-placeholder="codePlaceholder" />
              <button class="btn ghost" id="joinBtn" data-i18n="join">рЃерЃћрЃАрЃЋрЃџрЃљ</button>
            </div>
          </div>

          <div class="divider"></div>

          <div class="field">
            <label for="mode" data-i18n="modeLabel">рЃарЃћрЃЪрЃўрЃЏрЃў (рЃЏрЃљрЃАрЃърЃўрЃюрЃФрЃћрЃџрЃў)</label>
            <select id="mode">
              <option value="random" data-i18n="randomWords">рЃерЃћрЃЏрЃЌрЃ«рЃЋрЃћрЃЋрЃўрЃЌрЃў рЃАрЃўрЃбрЃДрЃЋрЃћрЃЉрЃў (5 рЃљрЃАрЃЮ)</option>
              <option value="custom" data-i18n="customWords">рЃћрЃарЃЌрЃЏрЃљрЃюрЃћрЃЌрЃўрЃА рЃАрЃўрЃбрЃДрЃЋрЃћрЃЉрЃў (5РђЊ20 рЃљрЃАрЃЮ)</option>
            </select>
          </div>

          <div class="field two">
            <div>
              <label for="timer" data-i18n="timerLabel">рЃбрЃљрЃўрЃЏрЃћрЃарЃў (рЃгрЃљрЃЏрЃћрЃЉрЃў) (рЃЏрЃљрЃАрЃърЃўрЃюрЃФрЃћрЃџрЃў)</label>
              <input id="timer" type="number" min="30" max="600" value="120" inputmode="numeric" />
            </div>

            <div id="wordBox" style="display:none;">
              <label for="word" data-i18n="yourWord">рЃерЃћрЃюрЃў рЃАрЃўрЃбрЃДрЃЋрЃљ рЃЏрЃЮрЃгрЃўрЃюрЃљрЃљрЃдрЃЏрЃЊрЃћрЃњрЃўрЃАрЃЌрЃЋрЃўрЃА (5РђЊ20 рЃљрЃАрЃЮ)</label>
              <input id="word" maxlength="20" placeholder="рЃерЃћрЃўрЃДрЃЋрЃљрЃюрЃћ рЃАрЃўрЃбрЃДрЃЋрЃљ..." autocapitalize="none" data-i18n-placeholder="wordPlaceholder" />
            </div>
          </div>

          <label class="checkbox" style="margin: 12px 0;">
            <input type="checkbox" id="publicRoomCheckbox" />
            <span data-i18n="publicRoom">рЃАрЃљрЃ»рЃљрЃарЃЮ рЃЮрЃЌрЃљрЃ«рЃў (рЃДрЃЋрЃћрЃџрЃљрЃА рЃ«рЃћрЃџрЃЏрЃўрЃАрЃљрЃгрЃЋрЃЊрЃЮрЃЏрЃў)</span>
          </label>

          <div class="actions twoBtns">
            <button class="btn" id="readyBtn" data-i18n="setReady">рЃЏрЃќрЃљрЃЊ рЃЋрЃљрЃа</button>
            <button class="btn danger" id="startBtn" disabled data-i18n="startHost">рЃЊрЃљрЃгрЃДрЃћрЃЉрЃљ (рЃЏрЃљрЃАрЃърЃўрЃюрЃФрЃћрЃџрЃў)</button>
          </div>

          <p class="hint" id="statusText" data-i18n="statusText">рЃњрЃљрЃ«рЃАрЃћрЃюрЃў Рў░ рЃЮрЃЌрЃљрЃ«рЃўрЃА рЃерЃћрЃАрЃљрЃЦрЃЏрЃюрЃћрЃџрЃљрЃЊ.</p>
        </section>
      </div>
    </div>

    <main class="stack">
      <!-- AD PLACEHOLDER MIDDLE (hidden by default) -->
      <div class="ad-placeholder ad-middle" id="adMiddle" style="display: none;">
        <span data-i18n="advertisement">рЃарЃћрЃЎрЃџрЃљрЃЏрЃљ</span>
      </div>

      <section class="card game">
        <div class="gameShell">
          <div class="gameHeader">
            <div>
              <h2 data-i18n="game">рЃЌрЃљрЃЏрЃљрЃерЃў</h2>
              <p class="sub" id="gameSub" data-i18n="gameSub">рЃњрЃљрЃ«рЃАрЃћрЃюрЃў Рў░ рЃЮрЃЌрЃљрЃ«рЃўрЃА рЃерЃћрЃАрЃљрЃЦрЃЏрЃюрЃћрЃџрЃљрЃЊ.</p>
            </div>
            <div class="timer" id="timerBox">--</div>
          </div>

          <div class="topRow">
            <div class="seg">
              <button class="segBtn active" id="tabYou" data-i18n="you">рЃерЃћрЃю</button>
              <button class="segBtn" id="tabOpp" data-i18n="opponent">рЃЏрЃЮрЃгрЃўрЃюрЃљрЃљрЃдрЃЏрЃЊрЃћрЃњрЃћ</button>
            </div>
            <button class="btn ghost mini" id="showScoresBtn" data-i18n="scores">рЃЦрЃБрЃџрЃћрЃЉрЃў</button>
          </div>

          <div class="vsLine" id="vsLine">Рђћ</div>

          <div class="winnerBanner" id="winnerBanner" style="display:none;" data-i18n="winner">­ЪћЦ рЃњрЃљрЃЏрЃљрЃарЃ»рЃЋрЃћрЃЉрЃБрЃџрЃў ­ЪћЦ</div>

          <div class="boardArea">
            <div class="boardWrap" id="youWrap">
              <div class="board" id="yourBoard"></div>
            </div>

            <div class="boardWrap" id="oppWrap" style="display:none;">
              <div class="board" id="oppBoard"></div>
            </div>
          </div>

          <input id="guess" maxlength="20" style="position:absolute; left:-9999px; opacity:0;" autocapitalize="none" />
          <div class="kb" id="kb"></div>

          <button class="btn ghost rematchBar" id="rematchBtn" style="display:none;" data-i18n="rematch">рЃарЃћрЃЋрЃљрЃюрЃерЃў</button>

          <div class="modal" id="scoresModal" hidden>
            <div class="modalCard">
              <div class="modalHead">
                <div class="modalTitle" data-i18n="scores">рЃЦрЃБрЃџрЃћрЃЉрЃў</div>
                <button class="btn ghost mini" id="closeScoresBtn" data-i18n="close">рЃЊрЃљрЃ«рЃБрЃарЃЋрЃљ</button>
              </div>
              <div class="scoreboard" id="scoreboard"></div>
            </div>
          </div>

          <div class="toast" id="toast" hidden></div>
        </div>
      </section>
    </main>
  </div>

  <!-- AD PLACEHOLDER BOTTOM (hidden by default) -->
  <div class="ad-placeholder ad-bottom" id="adBottom" style="display: none;">
    <span data-i18n="advertisement">рЃарЃћрЃЎрЃџрЃљрЃЏрЃљ</span>
  </div>

  <!-- Footer OUTSIDE .app so it can't break layout -->
  <footer class="foot">
    <span>Magitoxar Chemi Dzma - Baso</span>
  </footer>

  <script src="translations.js"></script>
  <script src="app.js"></script>
  <script>
    // Apply translations on load
    document.addEventListener('DOMContentLoaded', () => {
      updateAllTexts();

      // Update placeholders
      document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
        const key = el.getAttribute('data-i18n-placeholder');
        el.placeholder = t(key);
      });

      // Update select options
      document.querySelectorAll('select option[data-i18n]').forEach(option => {
        const key = option.getAttribute('data-i18n');
        option.textContent = t(key);
      });
    });

    // Ad visibility toggle (for testing)
    window.toggleAds = function(show) {
      ['adTop', 'adMiddle', 'adBottom'].forEach(id => {
        const el = document.getElementById(id);
        if (el) el.style.display = show ? 'flex' : 'none';
      });
    };
  </script>
</body>
</html>
